# Story 3.5.1: Activation Guide
## Story/Review Template Generator

### Quick Start for Elena + DevOps Team

This guide shows how to activate the correct BMAD agents and workflows for Story 3.5.1.

---

## Agent Activation Sequence

### Option 1: Start with Developer Agent (Recommended)

The developer agent (Amelia) can execute the complete story including both technical writing and implementation tasks.

```bash
# 1. Activate Developer Agent
/bmad:bmm:agents:dev

# 2. When Amelia's menu appears, select:
*develop-story

# This will:
# - Load the story context from docs/stories/3-5-1-story-review-template-generator.context.xml
# - Execute all tasks (1-7) continuously
# - Create templates, implement CLI tool, write tests
# - Run quality gates and UAT
```

### Option 2: Split Work Between Agents

For parallel work or specialized focus:

#### **Step 1: Technical Writer (Paige) - Templates & Documentation**

```bash
# Activate Technical Writer Agent
/bmad:bmm:agents:tech-writer

# Paige handles:
# - Task 1: Create story-template.md.j2
# - Task 2: Create review-template.md.j2
# - Task 6: Create README.md and examples
```

#### **Step 2: Developer (Amelia) - Implementation & Tests**

```bash
# Activate Developer Agent
/bmad:bmm:agents:dev

# Select: *develop-story

# Amelia handles:
# - Task 3: Implement scaffold-story.py CLI
# - Task 4: Create unit tests
# - Task 5: Create integration tests
# - Task 7: Run quality gates and UAT
```

---

## Story Context

The story context XML has been generated and is available at:
```
docs/stories/3-5-1-story-review-template-generator.context.xml
```

This context includes:
- Complete acceptance criteria
- Code artifacts to reference
- Dependencies (Jinja2, Pydantic, PyYAML)
- Interface specifications
- Test strategies

---

## Key Files to Create

### Templates (Tasks 1-2)
- `bmad/bmm/templates/story-template.md.j2` - Story markdown template
- `bmad/bmm/templates/review-template.md.j2` - Review checklist template

### CLI Tool (Task 3)
- `bmad/bmm/tools/scaffold-story.py` - Python script for scaffolding

### Documentation (Task 6)
- `bmad/bmm/templates/README.md` - Usage instructions
- `bmad/bmm/templates/examples/*.yaml` - Example configurations

### Tests (Tasks 4-5)
- `tests/unit/test_bmad/test_templates.py` - Template rendering tests
- `tests/integration/test_bmad/test_scaffold_story.py` - End-to-end tests

---

## Dependencies to Add

Before starting implementation, add Jinja2 to pyproject.toml:

```toml
# In [project.dependencies] section
"jinja2>=3.1.0",
```

Other required dependencies are already present:
- ✅ pydantic>=2.0.0
- ✅ PyYAML>=6.0.0
- ✅ pytest, black, ruff, mypy (dev dependencies)

---

## Quality Gates

Before marking story as done:

```bash
# Format check
black bmad/bmm/templates/ bmad/bmm/tools/ tests/unit/test_bmad/ tests/integration/test_bmad/

# Lint check
ruff check bmad/bmm/templates/ bmad/bmm/tools/ tests/unit/test_bmad/ tests/integration/test_bmad/

# Type check
mypy bmad/bmm/tools/

# Run tests
pytest tests/unit/test_bmad/test_templates.py -v
pytest tests/integration/test_bmad/test_scaffold_story.py -v

# Coverage check (>80% for new code)
pytest tests/unit/test_bmad/ tests/integration/test_bmad/ --cov=bmad/bmm --cov-report=html
```

---

## UAT Requirements

Three UAT validations required:

1. **AC-3.5.1-1:** Team review of story template
   - Check inline reminders are helpful
   - Validate all sections present

2. **AC-3.5.1-2:** Use review template for Story 3.5.2 review
   - Practical validation of checklist

3. **AC-3.5.1-5:** Team review of README documentation
   - Confirm clarity and completeness

---

## Next Steps After Completion

Once Story 3.5.1 is complete, the templates will be used for:
- Story 3.5.2 (CLAUDE.md Lessons Section) - Use template to validate format
- Story 3.5.3+ - Scaffold using the new tool
- Epic 4 stories - All future stories use this template system

---

## Reference Links

- Story Markdown: `docs/stories/3.5-1-story-review-template-generator.md`
- Story Context XML: `docs/stories/3-5-1-story-review-template-generator.context.xml`
- Epic 3.5 Summary: `docs/epic-3.5-bridge-epic-summary.md`
- Epic 3 Retrospective: `docs/retrospectives/epic-3-retro-2025-11-16.md`
- Developer Agent: `/bmad:bmm:agents:dev`
- Tech Writer Agent: `/bmad:bmm:agents:tech-writer`
- Dev Story Workflow: `/bmad:bmm:workflows:dev-story`
